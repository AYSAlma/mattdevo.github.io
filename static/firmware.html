<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Firmware</title>
  </head>
  <body>
    <h3>ChromeOS Device Firmware</h3>
    <p>
      The firmware used by ChromeOS devices resides on an 8MB SPI flash chip and uses the layout shown below.  The shaded sections 
      at the bottom are read-only, which is enforced by the firmware write-protect screw on the main board (sometimes with a sticker as
      well on some newer models).  When we talk about updating the firmware on ChromeOS devices, we're referring to either the RW_LEGACY
      or (RO) BOOT_STUB sections, or to the entire firmware image (often referred to as a "full ROM").  These three update types 
      are described in more detail below.
    </p>
    <p><center><img src="../images/stock_firmware_layout.png"></center></p>
    <h3>Firmware Update Types</h3>
    <p>
      <ul style="list-style-type:none">
        <li><strong>RW_LEGACY</strong>
          <ul>
            <li>Updates/replaces the stock legacy boot payload (SeaBIOS) included on many models; 
            supplements the ChromeOS / secure boot payload</li>
            <li>Leaves all stock functionality intact, including the developer mode boot screen and recovery mode</li>
            <li>Allows device to dual-boot another OS alongside ChromeOS</li>
            <li>Does not require disabling the firmware write-protect</li>
            <li>Carries zero risk of bricking the device</li>
            <li>On many models, includes bugfixes and enables additional functionality</li>
          </ul>
          <p>
            The <strong>RW_LEGACY</strong> firmware is for users who want to dual-boot ChromeOS + Linux/Windows, or users who want to 
            run Linux/Windows without having to open the device/disable the firmware write-protect.
          </p>
      </li>
 
      <li><strong>BOOT_STUB</strong>
        <ul>
          <li>Replaces the ChromeOS verified boot payload (depthcharge) with a legacy boot payload (SeaBIOS)</li>
          <li>Removes the developer mode boot (white "OS verification is OFF") screen</li>
          <li>Removes the ability to run ChromeOS, creating a small risk of bricking your device</li>
          <li>Requires the firmware write-protect to be disabled</li>
          <li>When flashed via the ChromeOS Firmware Utility Script, has a "built-in" backup function, so easy to restore 
            without having to keep track of the backup file</li>
          <li>Stop-gap solution for devices which don't have a full ROM available</li>
          <li>Leaves the recovery mode ( <span class="keystroke">[ESC+REFRESH+POWER]</span> ) initiation functionality intact
            <ul type="square">
              <li>If you engage this key sequence, your device will try to boot into recovery mode, which no longer exists</li>
              <li>To escape the Recovery Mode "black hole", you will have to disassemble the device and briefly disconnect the battery</li>
              <li>TL;DR - be careful not to do it :)</li>
            </ul>
          </li>
        </ul>
        <p>
          The <strong>BOOT_STUB</strong> firmware is for users who want to run Linux/Windows exclusively, but a Full ROM isn't
          available for their device.  This mainly applies to ChromeOS devices using an Intel Baytrail SoC (Celeron N2xxx CPUs).
        </p>
      </li>
      <li><strong>Full ROM</strong>
        <ul>
          <li>A complete firmware image which includes updated/customized versions of the hardware init  (coreboot) and 
          legacy boot payload (SeaBIOS) components contained in the stock firmware</li>
          <li>Removes the developer mode boot (white "OS verification is OFF") screen</li>
          <li>Completely removes the ability to run ChromeOS (and ChromeOS recovery mode), creating a small risk of bricking your device</li>
          <li>Offers the best support for booting all OSes besides ChromeOS (including Windows)</li>
          <li>On many models, adds full hardware support for virtualization (vmx / VT-x)</li>
          <li>Fixes many bugs and/or idiosyncrasies associated with the stock firmware (but could potentially add new ones)</li>
          <li>Essentially turns your ChromeOS device into a "regular" PC / laptop</li>
        </ul>
        <p>
          The <strong>Full ROM</strong> firmware is the best option for users who want to run Linux/Windows exclusively, and who
          don't mind opening their device to disable the firmware write-protect.
        </p>
      </li>
    </ul>
    <p> 
      <br>All three firmware update types are available via the ChromeOS Firmware Utility Script, though not all types are available for all devices.
    </p>
  </body>
</html>



